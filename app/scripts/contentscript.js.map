{"version":3,"sources":["../scripts.babel/contentscript.js"],"names":[],"mappings":"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","file":"contentscript.js","sourcesContent":["'use strict';\n\nconst collect = new Audio(chrome.extension.getURL('collect.ogg')); \nconst collectSpecial = new Audio(chrome.extension.getURL('collect_special.ogg'));\n\nconst rarities = {\n\tepic: 'epic',\n\tlegendary: 'legendary'\n};\n\nfunction save(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction load(key) {\n    var value = localStorage.getItem(key);\n\treturn (value && JSON.parse(value)) || [];\n}\n\nfunction getKey(rarity) {\n\treturn `github-rpg-${rarity}`;\n}\nfunction getStore(rarity) {\n\treturn load(getKey(rarity));\n}\n\nif (localStorage) {\n\t$('.sha, .commit-tease-sha, a.commit-id').each((i, v) => {\n\t\tvar a = $(v);\n\t\tif (a.text().match(/[a-f]{7}/)) {\n\t\t\tattach('legendary', a);\n\t\t} else if (a.text().match(/\\d{7}/)) {\n\t\t\tattach('epic', a);\n\t\t}\n\t});\n}\n\nfunction play(sound) {\n\tsound.pause();\n\tsound.currentTime = 0;\n\tsound.play();\n}\n\nfunction attach(rarity, a) {\n\tconst sha = a.text();\n\tconst store = getStore(rarity);\n\tconsole.log(rarity, a.text());\n\tif (store.indexOf(sha) === -1) {\n\t\ta.addClass(rarity);\n\t\ta.on('click', (e) => \n\t\t{\n\t\t\tconst store = getStore(rarity);\n\t\t\te.preventDefault();\n\t\t\tstore.push(sha);\n\t\t\tconst message = `New ${rarity}`;\n\t\t\tswitch (rarity) {\n\t\t\t\tcase rarities.legendary:\n\t\t\t\t\tplay(collectSpecial);\n\t\t\t\t\ttoastr.success(`Total: ${store.length}`, message); \n\t\t\t\t\tbreak;\n\t\t\t\tcase rarities.epic:\n\t\t\t\t\tplay(collect);\n\t\t\t\t\ttoastr.info(`Total: ${store.length}`, message); \n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tsave(getKey(rarity), store);\n\n\t\t\ta.unbind('click');\n\t\t\ta.removeClass(rarity);\n\t\t});\n\t}\n}\n\nfunction addCss(sheet) {\n\tconst style = document.createElement('link');\n\tstyle.rel = 'stylesheet';\n\tstyle.type = 'text/css';\n\tstyle.href = chrome.extension.getURL(sheet);\n\t(document.head||document.documentElement).appendChild(style);\n}\n\naddCss('bower_components/toastr/toastr.min.css');\naddCss('style.css');\n"]}